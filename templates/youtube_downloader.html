{% extends 'layout.html' %} 

{% block body %}
  <h1>YouTube Downloader</h1>
     <form action="/youtube_downloader" method="POST">
        <label for="url">Enter YouTube URL:</label>
        <input type="text" id="url" name="url" required value="{{ url }}">
        <br>
        <input type="submit" value="Fetch Formats">
    </form>

    {% if available_qualities %}
    <form action="/download" method="POST">
        <input type="hidden" name="url" value="{{ url }}">
        <label for="quality">Select Video Quality:</label>
        <select id="quality" name="quality">
            {% for quality in available_qualities %}
            <option value="{{ quality }}">{{ quality }}</option>
            {% endfor %}
        </select>
        <br>
        <input type="submit" value="Download">
    </form>
    {% endif %}

    {% if status %}
    <p>Status: {{ status }}</p>
    {% endif %}

    <!--Start of Tawk.to Script-->
<script type="text/javascript">
var Tawk_API=Tawk_API||{}, Tawk_LoadStart=new Date();
(function(){
var s1=document.createElement("script"),s0=document.getElementsByTagName("script")[0];
s1.async=true;
s1.src='https://embed.tawk.to/64ad70a6cc26a871b027c0bb/1h52o03o6';
s1.charset='UTF-8';
s1.setAttribute('crossorigin','*');
s0.parentNode.insertBefore(s1,s0);
})();
</script>
<!--End of Tawk.to Script-->
{% endblock %}
